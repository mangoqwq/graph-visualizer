(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{31635:(e,t,r)=>{Promise.resolve().then(r.bind(r,34168))},34168:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var n=r(95155),s=r(12115);function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.vertices.find(e=>e.id===t))return e;e.vertices.push({id:t,label:r})}function l(e){let t=new Map;for(let r of e.vertices)t.set(r.id,[]);for(let s of e.edges){var r,n;t.has(s.from)&&(null==(r=t.get(s.from))||r.push(s.to)),t.has(s.to)&&(null==(n=t.get(s.to))||n.push(s.from))}return t}var i=r(36505);let a=(e,t)=>{let r={directed:t,vertices:[],edges:[]},n=e.split("\n");var s=0;for(let e of n){let t=()=>{let t=/^\s*(-?\d+)\s+(-?\d+)\s*$/,n=e.match(t);if(null!==n){let[,e,t]=n;!function(e,t,r,n){o(e,r),o(e,n),e.edges.push({id:t,from:r,to:n})}(r,s++,parseInt(e),parseInt(t))}};(()=>{let t=/^\s*(-?\d+)\s*(?::(.*))?\s*$/,n=e.match(t);if(null!==n){console.log(n);let[,e,t]=n;r.vertices.some(t=>t.id===parseInt(e))?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.vertices.find(e=>e.id===t);void 0!==n&&(n.label=r)}(r,parseInt(e),t):o(r,parseInt(e),t)}})(),t()}return r};function d(){let{graphBundle:e,setGraphBundle:t,inputBoxText:r,setInputBoxText:o}=(0,s.useContext)(_),{graph:l,vertexStates:d,edgeStates:c}=e,[u,f]=(0,s.useState)(!1),x=e=>{t({graph:e,vertexStates:d,edgeStates:c})};(0,s.useEffect)(()=>{x(a(r,l.directed))},[r]);let m=e=>{r!==e.target.value&&(o(e.target.value),x(a(e.target.value,l.directed)))};return(0,n.jsxs)("div",{className:" flex flex-col",children:[(0,n.jsxs)("div",{onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},children:["Input: ",(0,n.jsx)(i.g,{icon:"question-circle",className:"max-h-6 max-w-6"}),u?(0,n.jsxs)("p",{className:"fixed bg-black color rounded-lg text-white px-2",children:["lone vertex - id ",(0,n.jsx)("br",{}),"labeled vertex - id: label ",(0,n.jsx)("br",{}),"edge - id1 id2 ",(0,n.jsx)("br",{})]}):null]}),(0,n.jsx)("div",{className:"grow ",children:(0,n.jsx)("textarea",{className:"border-2 border-solid resize-none h-full",value:r,onChange:e=>m(e)})})]})}class c{add(e){return c.add(this,e)}sub(e){return c.sub(this,e)}norm(){return c.norm(this)}scale(e){return c.scale(this,e)}normalize(){return c.normalize(this)}scaleToLength(e){return c.scaleToLength(this,e)}static add(e,t){return new c(e.x+t.x,e.y+t.y)}static sub(e,t){return new c(e.x-t.x,e.y-t.y)}static norm(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static scale(e,t){return new c(e.x*t,e.y*t)}static normalize(e){return 1e-9>=e.norm()?new c(0,0):c.scale(e,1/c.norm(e))}static scaleToLength(e,t){return c.scale(c.normalize(e),t)}constructor(e,t){this.x=e,this.y=t}}var u=r(5939),f=r.n(u);let x=5/6;function m(e,t){var{x:r,y:n}=e;return r<40&&(r=40),r>t-40&&(r=t-40),n<40&&(n=40),n>t-40&&(n=t-40),new c(r,n)}function h(e){let{v:t}=e,r=s.useRef(null),{graphBundle:o,setGraphBundle:l,mouseMode:i,mouseDown:a,windowHeight:d}=(0,s.useContext)(_),{graph:u,vertexStates:h,edgeStates:p}=o,g=d*x,v=e=>l({...o,vertexStates:e});if(void 0===h.get(t.id))return(0,n.jsx)(n.Fragment,{});let{x:b,y:w}=h.get(t.id).pos;return(0,n.jsx)(f(),{onDrag:(e,r)=>{v(new Map(Array.from(h.entries()).map(e=>{let[n,s]=e;if(n!==t.id)return[n,s];var{x:o,y:l}=r;return{x:o,y:l}=m(new c(o,l),g),[n,{...h.get(t.id),pos:new c(o,l)}]})))},onStart:(e,r)=>{let n=new Map(h);n.set(t.id,{...h.get(t.id),heldAt:Date.now()}),v(n)},onStop:(e,r)=>{var n=h.get(t.id).frozen;"freeze"===i.mode&&Date.now()-h.get(t.id).heldAt<100&&10>=new c(r.deltaX,r.deltaY).norm()&&(n=!n);let s=new Map(h);s.set(t.id,{...h.get(t.id),heldAt:null,frozen:n}),v(s)},position:{x:b,y:w},nodeRef:r,children:(0,n.jsxs)("g",{ref:r,onClick:()=>{"paint"===i.mode&&("vertex-border"===i.subject&&v(new Map(h).set(t.id,{...h.get(t.id),borderColor:i.color})),"vertex-fill"===i.subject&&v(new Map(h).set(t.id,{...h.get(t.id),fillColor:i.color})))},onMouseEnter:()=>{"paint"===i.mode&&"vertex-border"===i.subject&&a&&v(new Map(h).set(t.id,{...h.get(t.id),borderColor:i.color})),"paint"===i.mode&&"vertex-fill"===i.subject&&a&&v(new Map(h).set(t.id,{...h.get(t.id),fillColor:i.color}))},children:[(0,n.jsx)("circle",{r:20,strokeWidth:h.get(t.id).frozen?"4":"2",stroke:h.get(t.id).borderColor,fill:h.get(t.id).fillColor}),(0,n.jsx)("text",{textAnchor:"middle",alignmentBaseline:"middle",className:"select-none",fontWeight:h.get(t.id).textBold?"bold":"normal",children:null===t.label?t.id:t.label})]})},t.id)}function p(e){var t,r;let{e:o}=e,{graphBundle:l,setGraphBundle:i,mouseMode:a,mouseDown:d}=(0,s.useContext)(_),{graph:c,vertexStates:u,edgeStates:f}=l,x=e=>i({...l,edgeStates:e});if(void 0===u.get(o.from)||void 0===u.get(o.to))return(0,n.jsx)(n.Fragment,{});let{x:m,y:h}=u.get(o.from).pos,{x:p,y:g}=u.get(o.to).pos,v=p-m,b=g-h,w=Math.sqrt(v*v+b*b),j=v/w,N=b/w,y=m+20*j,C=h+20*N,k=p-20*j,S=g-20*N;return(0,n.jsxs)("svg",{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("marker",{id:"arrowhead",markerWidth:"5",markerHeight:"6",refX:"5",refY:"3.5",orient:"auto",children:(0,n.jsx)("polygon",{points:"0 0, 5 3, 0 6"})})}),(0,n.jsxs)("g",{onMouseEnter:()=>{"paint"===a.mode&&"edge"===a.subject&&d&&x(new Map(f).set(o.id,{...f.get(o.id),color:a.color}))},onClick:()=>{"paint"===a.mode&&"edge"===a.subject&&x(new Map(f).set(o.id,{...f.get(o.id),color:a.color}))},pointerEvents:"all",children:[(0,n.jsx)("line",{x1:y,y1:C,x2:k,y2:S,stroke:"black",visibility:"hidden",strokeWidth:"13"}),(0,n.jsx)("line",{x1:y,y1:C,x2:k,y2:S,stroke:null!=(r=null==(t=f.get(o.id))?void 0:t.color)?r:"black",strokeWidth:"2",markerEnd:c.directed?"url(#arrowhead)":""})]})]})}let g={CEN_CHARGE:-700,VTX_CHARGE:400,EDGE_CHARGE:200,MIN_ELEC_DIST:10,K_CONST:.5,SPR_CONST:15,SPR_LEN:100};function v(){let{graphBundle:e,setGraphBundle:t,windowHeight:r}=(0,s.useContext)(_),{graph:o,vertexStates:l,edgeStates:i}=e,a=(0,s.useRef)(void 0),d=(0,s.useRef)(0),u=r*x;function f(e,t){return Math.floor(Math.random()*(t-e))+e}return(0,s.useEffect)(()=>{let e=r=>{if(void 0!==a.current){let e=a.current;t(t=>(function(e,t,r){let{graph:n,vertexStates:s,edgeStates:o}=e,{CEN_CHARGE:l,VTX_CHARGE:i,EDGE_CHARGE:a,MIN_ELEC_DIST:d,K_CONST:u,SPR_CONST:f,SPR_LEN:x}=g,h=x+n.edges.length,p=new Map;for(let e of n.vertices)p.set(e.id,new c(0,0));for(let e of(new c(t/2,t/2),n.vertices)){if(void 0===s.get(e.id))continue;let t=s.get(e.id).pos,r=s.size;for(let o of n.vertices){if(e.id===o.id||void 0===s.get(o.id))continue;let n=s.get(o.id).pos.sub(t),l=Math.max(d,n.norm()),a=-u*i*i/(l*l),c=n.scaleToLength(a/r);p.set(e.id,p.get(e.id).add(c))}}for(let e of n.edges){if(void 0===s.get(e.from)||void 0===s.get(e.to)||s.get(e.to)===s.get(e.from))continue;let t=s.get(e.from).pos,r=s.get(e.to).pos.sub(t),n=r.norm(),o=f*(n-h),l=r.scaleToLength(o/n);p.set(e.from,p.get(e.from).add(l)),p.set(e.to,p.get(e.to).sub(l))}let v=new Map,b=Math.min(r/15,3);for(let e of n.vertices)if(void 0!==s.get(e.id)){if(null!==s.get(e.id).heldAt||s.get(e.id).frozen){v.set(e.id,s.get(e.id));continue}v.set(e.id,{...s.get(e.id),pos:s.get(e.id).pos.add(p.get(e.id).scale(b))})}for(let e of n.vertices){if(void 0===v.get(e.id))continue;let r=v.get(e.id);v.set(e.id,{...r,pos:m(r.pos,t)})}return{...e,vertexStates:v}})(t,u,r-e))}a.current=r,d.current=window.requestAnimationFrame(e)};return d.current=window.requestAnimationFrame(e),()=>{window.cancelAnimationFrame(d.current)}},[u]),(0,s.useEffect)(()=>{let r=new Map,n=!1;for(let e of o.vertices)if(l.has(e.id)&&!Number.isNaN(l.get(e.id).pos.x))r.set(e.id,l.get(e.id));else{let t=f(20,u-20),s=f(20,u-20);r.set(e.id,{pos:new c(t,s),frozen:!1,heldAt:null,textBold:!1,borderColor:"black",fillColor:"white"}),n=!0}n&&t({...e,vertexStates:r})},[o.vertices,l,u]),(0,n.jsx)("div",{className:"min-w-[${dim}] min-h-[${dim}]",children:(0,n.jsxs)("svg",{width:u,height:u,className:"border-solid border-2 graph-view-svg",id:"graph-view-svg",children:[o.edges.map(e=>(0,n.jsx)(p,{e:e},e.id)),o.vertices.map(e=>(0,n.jsx)(h,{v:e},e.id))]})})}var b=r(28175);function w(e,t,r,n){let{graph:s,vertexStates:o}=e;if(0===s.vertices.length)return e;let l=new Map(o),i=r/(t.length+1);for(let e=0;e<t.length;e++){let s=t[e],a=r/(s.length+1);for(let t=0;t<s.length;t++){let d=s[t],u=(()=>{switch(n){case"down":return new c((t+1)*a,(e+1)*i);case"up":return new c((t+1)*a,r-(e+1)*i);case"left":return new c(r-(e+1)*i,(t+1)*a);case"right":return new c((e+1)*i,(t+1)*a)}})();l.set(d,{...o.get(d),pos:u})}}for(let e of s.vertices.map(e=>e.id))l.get(e).frozen=!0;return{...e,vertexStates:l}}var j=r(70808);function N(){return(0,n.jsx)("div",{style:{borderBottom:"1px solid #ccc",margin:"15px 0"}})}function y(){let[e,t]=(0,s.useState)("complete"),{graphBundle:r,setGraphBundle:o,inputBoxText:l,setInputBoxText:i}=(0,s.useContext)(_),a=e=>e&&""!==e?e.match(/[^\d-+]*([-+]?\d+)[^\d-+]*/g).map(e=>parseInt(e)):[],d=t=>{t.preventDefault();var r=l;switch(""!==r&&!r.endsWith("\n")&&(r+="\n"),e){case"complete":{let e=a(t.currentTarget.vertices.value);for(let[t,n]of e.entries())for(let[s,o]of e.entries())t<s&&(r+=n+" "+o+"\n")}break;case"complete-bipartite":{let e=a(t.currentTarget.vertices1.value),n=a(t.currentTarget.vertices2.value);for(let t of e)for(let e of n)r+=t+" "+e+"\n"}break;case"cycle":{let e=a(t.currentTarget.vertices.value);for(let[t,n]of e.entries())r+=n+" "+e[(t+1)%e.length]+"\n"}break;case"path":{let e=a(t.currentTarget.vertices.value);for(let[t,n]of e.entries())0!==t&&(r+=e[t-1]+" "+n+"\n")}}i(r)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"flex",children:(0,n.jsxs)("div",{className:"m-auto text-center flex",children:["Insert\xa0",(0,n.jsxs)("div",{className:"hover-dropdown m-auto",children:[e,(0,n.jsxs)("div",{className:"hover-dropdown-content",children:[(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>t("complete"),children:"complete"}),(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>t("complete-bipartite"),children:"complete bipartite"}),(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>t("cycle"),children:"cycle"}),(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>t("path"),children:"path"})]})]}),"\xa0subgraph"]})}),(()=>{let t=(()=>{let t="px-1 focus:outline-none focus:border-transparent";switch(e){case"complete":case"cycle":case"path":return(0,n.jsx)("input",{type:"text",name:"vertices",placeholder:"Vertices (e.x. 1 2 3)",className:t});case"complete-bipartite":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",name:"vertices1",placeholder:"Side 1 (e.x. 1 2 3)",className:t}),(0,n.jsx)("input",{type:"text",name:"vertices2",placeholder:"Side 2 (e.x. 4 5 6)",className:t})]})}})();return(0,n.jsxs)("form",{autoComplete:"off",method:"post",onSubmit:d,className:"flex flex-col",children:[t,(0,n.jsx)("button",{type:"submit",value:"Submit",className:"panel-button",children:"Insert"})]})})()]})}function C(){let{graphBundle:e,setGraphBundle:t}=(0,s.useContext)(_),{graph:r,vertexStates:o,edgeStates:l}=e,i=n=>{console.log(n),t({...e,graph:{...r,directed:n}})};return(0,n.jsxs)(L,{children:[(0,n.jsx)(y,{}),(0,n.jsx)(N,{}),(0,n.jsx)("div",{className:"flex flex-row w-full",children:(0,n.jsx)("button",{onClick:()=>i(!r.directed),className:"panel-button grow basis-0",children:"Toggle directed"})})]})}function k(){let{graphBundle:e,setGraphBundle:t,windowHeight:r,graphViewDim:o}=(0,s.useContext)(_),{graph:i,vertexStates:a,edgeStates:d}=e,[u,f]=(0,s.useState)("down");return(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsx)("div",{className:"flex flex-col justify-around space-y-2",children:["down","up","left","right"].map(e=>(0,n.jsxs)("button",{type:"submit",name:"type",value:e,className:"grow basis-0 text-lg font-mono aspect-square ".concat(u===e?"bg-gray-200":"bg-white hover:bg-gray-100"),onClick:()=>f(e),children:["down"===e&&"↓","up"===e&&"↑","left"===e&&"←","right"===e&&"→"]},e))}),(0,n.jsx)("div",{className:"border-l border-gray-300 mx-2"}),(0,n.jsxs)("form",{autoComplete:"off",method:"post",className:"flex flex-col",onSubmit:r=>{r.preventDefault();var n=parseInt(r.currentTarget.vertices.value.trim());isNaN(n)&&(n=Math.min(...i.vertices.map(e=>e.id)));let s=r.nativeEvent.submitter.value;isNaN(n)||("bfs"===s?t(function(e,t,r,n){let{graph:s,vertexStates:o}=e;if(void 0===s.vertices.find(e=>e.id===t))return e;let i=l(s);var a=[];let d=new Map,c=[t];for(d.set(t,0);c.length>0;){let e=c.shift(),t=d.get(e);for(let r of(void 0===a[t]&&(a[t]=[]),a[t].push(e),i.get(e)))d.has(r)||(d.set(r,t+1),c.push(r))}return console.log(a),w(e,a,r,n)}(e,n,o,u)):"dfs"===s&&t(function(e,t,r,n){let{graph:s,vertexStates:o}=e;if(void 0===s.vertices.find(e=>e.id===t))return e;let i=l(s);var a=[];let d=new Set,c=(e,t)=>{if(!d.has(e))for(let r of(d.add(e),void 0===a[t]&&(a[t]=[]),a[t].push(e),i.get(e)))c(r,t+1)};return c(t,0),w(e,a,r,n)}(e,n,o,u)))},children:[(0,n.jsx)("input",{type:"text",name:"vertices",placeholder:"Source vertex id (e.x. 1)",className:"px-1 focus:outline-none focus:border-transparent"}),(0,n.jsxs)("div",{className:"flex flex-row w-full",children:[(0,n.jsx)("button",{type:"submit",name:"type",value:"bfs",className:"panel-button grow basis-0",children:"Arrange BFS order"}),(0,n.jsx)("button",{type:"submit",name:"type",value:"dfs",className:"panel-button grow basis-0",children:"Arrange DFS order"})]}),(0,n.jsx)(N,{}),(0,n.jsx)("div",{className:"flex flex-row w-full",children:(0,n.jsx)("button",{onClick:()=>t(function(e,t,r){let{graph:n,vertexStates:s}=e;if(0===n.vertices.length)return e;if(!n.directed)return alert("Graph is not directed"),e;let o=new b.graphlib.Graph;for(let e of(o.setGraph({rankdir:(()=>{switch(r){case"down":return"TB";case"up":return"BT";case"left":return"RL";case"right":return"LR"}})(),nodesep:50,ranksep:100}),o.setDefaultEdgeLabel(()=>({})),n.vertices))o.setNode(e.id.toString(),{width:1,height:1});for(let e of n.edges)o.setEdge(e.from.toString(),e.to.toString());b.layout(o);let l=1/0,i=-1/0,a=1/0,d=-1/0;o.nodes().forEach(e=>{let{x:t,y:r}=o.node(e);l=Math.min(l,t),i=Math.max(i,t),a=Math.min(a,r),d=Math.max(d,r)});let u=(t-200)/(i-l),f=(t-200)/(d-a),x=new Map;return o.nodes().forEach(e=>{let{x:t,y:r}=o.node(e),n=(t-l)*u+100,i=(r-a)*f+100;x.set(parseInt(e),{...s.get(parseInt(e)),pos:new c(n,i),frozen:!0})}),{...e,vertexStates:x}}(e,o,u)),className:"panel-button grow basis-0",children:"Arrange DAG"})})]})]})}function S(e,t){let{graph:r,vertexStates:n}=t,s=new Map(n);for(let t of r.vertices)s.set(t.id,{...n.get(t.id),frozen:e});return{...t,vertexStates:s}}function M(){let{graphBundle:e,setGraphBundle:t,graphViewDim:r}=(0,s.useContext)(_),{graph:o,vertexStates:l,edgeStates:i}=e;return(0,n.jsxs)(L,{children:[(0,n.jsxs)("div",{className:"flex flex-row w-full",children:[(0,n.jsx)("button",{onClick:()=>t(S(!0,e)),className:"panel-button grow basis-0",children:"Freeze all"}),(0,n.jsx)("button",{onClick:()=>t(S(!1,e)),className:"panel-button grow basis-0",children:"Unfreeze all"})]}),(0,n.jsx)(N,{}),(0,n.jsx)(k,{})]})}function E(){return(0,n.jsx)(L,{children:(0,n.jsx)("p",{children:"Coming soon!"})})}function z(){let{mouseMode:e,setMouseMode:t}=(0,s.useContext)(_),[r,o]=(0,s.useState)({r:255,g:0,b:0,a:1}),[l,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)({mode:"paint",subject:"vertex-border",color:"rgba(255, 0, 0, 1)"}),c=()=>"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")");return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"m-auto text-center flex relative",children:["Paint\xa0",(0,n.jsxs)("div",{className:"hover-dropdown m-auto",children:[a.subject,(0,n.jsxs)("div",{className:"hover-dropdown-content",children:[(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>{d({mode:"paint",subject:"vertex-border",color:"rgba(255, 0, 0, 1)"}),"paint"===e.mode&&t({mode:"paint",subject:"vertex-border",color:c()})},children:"vertex border"}),(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>{d({mode:"paint",subject:"vertex-fill",color:"rgba(255, 0, 0, 1)"}),"paint"===e.mode&&t({mode:"paint",subject:"vertex-fill",color:c()})},children:"vertex fill"}),(0,n.jsx)("div",{className:"hover-dropdown-item",onClick:()=>{d({mode:"paint",subject:"edge",color:"rgba(255, 0, 0, 1)"}),"paint"===e.mode&&t({mode:"paint",subject:"edge",color:c()})},children:"edge"})]})]}),"\xa0with\xa0",(0,n.jsx)("div",{className:"w-4 h-4 rounded-full border-none",onClick:()=>{i(!l),"paint"===e.mode&&t({mode:"paint",subject:e.subject,color:c()})},style:{background:c()}}),l?(0,n.jsx)(j.xk,{onChange:r=>{o(r.rgb),"paint"===e.mode&&t({mode:"paint",subject:e.subject,color:c()})},color:r,className:"absolute top-5"}):null]}),"paint"===e.mode?(0,n.jsx)("button",{onClick:()=>t({mode:"freeze"}),className:"panel-button ",children:"Cancel"}):(0,n.jsx)("button",{onClick:()=>{t({mode:"paint",subject:a.subject,color:c()})},className:"panel-button ",children:"Brush mode"})]})}function T(){let{graphBundle:e,setGraphBundle:t}=(0,s.useContext)(_),{graph:r,vertexStates:o}=e,l=n=>{let s=new Map(o);for(let e of r.vertices)s.set(e.id,{...o.get(e.id),textBold:n});t({...e,vertexStates:s})};return(0,n.jsxs)(L,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(N,{}),(0,n.jsxs)("div",{className:"flex flex-row w-full",children:[(0,n.jsx)("button",{onClick:()=>l(!0),className:"panel-button grow basis-0",children:"Bold vertex labels"}),(0,n.jsx)("button",{onClick:()=>l(!1),className:"panel-button grow basis-0",children:"Unbold vertex labels"})]})]})}function A(){return(0,n.jsx)(L,{children:(0,n.jsx)("button",{onClick:()=>{let e=document.getElementById("graph-view-svg");if(null===e)return;let t=new Blob([new XMLSerializer().serializeToString(e)],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="graph.svg",document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"panel-button w-full",children:"Download SVG"})})}function L(e){return(0,n.jsx)("div",{className:"border-solid border-2 grow p-2 h-full w-full",children:e.children})}function B(e){let{setMouseMode:t}=(0,s.useContext)(_);return(0,n.jsx)("div",{className:"flex justify-between",onClick:()=>t({mode:"freeze"}),children:e.children})}function I(){let[e,t]=(0,s.useState)({type:"modify"}),r=(()=>{switch(e.type){case"modify":return(0,n.jsx)(C,{});case"arrange":return(0,n.jsx)(M,{});case"locate":return(0,n.jsx)(E,{});case"annotate":return(0,n.jsx)(T,{});case"export":return(0,n.jsx)(A,{})}})(),o=t=>{var r="grow basis-0 ";return e.type===t?r+="bg-gray-200":r+="hover:bg-gray-100 active:bg-gray-200",r};return(0,n.jsxs)("div",{className:"min-w-[400px] max-w-[400px] flex flex-col",children:[(0,n.jsxs)(B,{children:[(0,n.jsx)("button",{onClick:()=>t({type:"modify"}),className:o("modify"),children:"Modify"}),(0,n.jsx)("button",{onClick:()=>t({type:"arrange"}),className:o("arrange"),children:"Arrange"}),(0,n.jsx)("button",{onClick:()=>t({type:"locate"}),className:o("locate"),children:"Locate"}),(0,n.jsx)("button",{onClick:()=>t({type:"annotate"}),className:o("annotate"),children:"Annotate"}),(0,n.jsx)("button",{onClick:()=>t({type:"export"}),className:o("export"),children:"Export"})]}),(0,n.jsx)("div",{children:r})]})}var D=r(4181),R=r(3578);D.Yv.add(R.wRm);let _=(0,s.createContext)({graphBundle:{graph:{directed:!1,vertices:[],edges:[]},vertexStates:new Map,edgeStates:new Map},setGraphBundle:()=>{},inputBoxText:"",setInputBoxText:()=>{},mouseMode:{mode:"freeze"},setMouseMode:()=>{},mouseDown:!1,setMouseDown:()=>{},windowHeight:0,graphViewDim:0});function G(){let[e,t]=(0,s.useState)("0 1\n0 2\n0 3\n1 3\n"),[r,o]=(0,s.useState)({graph:a(e,!1),vertexStates:new Map,edgeStates:new Map}),[l,i]=(0,s.useState)({mode:"freeze"}),[c,u]=(0,s.useState)(!1),[f,m]=(0,s.useState)(800),[h,p]=(0,s.useState)(0);return(0,s.useLayoutEffect)(()=>{m(window.innerHeight),p(window.innerHeight*x)},[]),(0,s.useEffect)(()=>{let e=()=>{m(window.innerHeight),p(window.innerHeight*x)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.jsx)("main",{children:(0,n.jsx)(_.Provider,{value:{graphBundle:r,setGraphBundle:o,inputBoxText:e,setInputBoxText:t,mouseMode:l,setMouseMode:i,mouseDown:c,setMouseDown:u,windowHeight:f,graphViewDim:h},children:(0,n.jsx)("div",{className:"h-screen m-screen flex",onMouseDown:()=>u(!0),onMouseUp:()=>u(!1),children:(0,n.jsxs)("div",{className:"flex h-5/6 m-auto",children:[(0,n.jsx)(d,{}),(0,n.jsx)(v,{}),(0,n.jsx)(I,{})]})})})})}function F(){return(0,n.jsx)("main",{children:(0,n.jsx)(G,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[266,42,441,684,358],()=>t(31635)),_N_E=e.O()}]);